---
layout: default
title: Search
---

<h2>Site Search</h2>

<div>
    <form id="site_search">
      <input type="text" id="search_box" placeholder="Enter search term ...">
      <input id="submit_button" type="submit" value="Search">
    </form>
</div>

<br>

<div class="entry">
    <ul id="search_results" class="post-content"></ul>    
</div>


<script>
  
    $(document).ready(function() {

        $("#search_box").focus();
        $("#site_search").submit(function(e){
            e.preventDefault();
            var userQuery = $("#search_box").val(); // Get the value for the text field
        
            var results = $("#search_results");
            results.empty();

            var sendQuery = {
                q : userQuery
            };

            $.ajax({
                url: 'https://api.ryanharrison.co.uk/search',
                data: "q="+userQuery,
                dataType: 'jsonp',
                success: function(data) {
                    $.each(data, function(key, value) {
                        var link = "<li id='" + key + "'><a target=\"_blank\" href='" + value.url +  "'>" + value.title + "</a></li>";
                        var highlight = "<p><small>" + value.highlight + "</small></p>";
                        results.append(link);
                        results.append(highlight);
                    });

                    if(results.children().length == 0) {
                        results.append("<p>No results found</p>");
                    }
                }
            });
        });
    });

</script>